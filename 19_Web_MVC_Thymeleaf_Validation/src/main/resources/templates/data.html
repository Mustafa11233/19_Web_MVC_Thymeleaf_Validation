<!DOCTYPE html>
<html xmlns:th="www.Thymeleaf.org">
 <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Data Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script type="text/javascript">
    
      function deleteConfirm(){
    	  return confirm("Are you sure,you want to delete ?");
    	  
      }
    
    </script>
    
    
  </head>
  <body>
  	<div class="container pt-3 pb-3">
  	
  		<h1>View Products Info</h1>
  		<p th:text="${msg}" class="text-danger" ></p>
  		<a href="/" class="btn btn-primary">+Add Products</a>
  		<div>
  		<table class="table table-striped table-bordered" >
  			<thead>
  				<tr>
  				  <th>Product Id</th>
  				  <th>Product Name</th>
  				  <th>Product Price</th>
  				  <th>Product Quantity</th>
  				  <th>Action</th>
  			   </tr>
  			 </thead> 
  			 
  			<tbody>
  			    <!-- products will iterate to p variable -->
  			 	<tr th:each="p: ${products}">
   					 <td th:text="${p.pid}" />
    				 <td th:text="${p.name}" />
    				 <td th:text="${p.price}" />
    				 <td th:text="${p.qty}" />
    				  <td>
    				 	<a th:href="@{/edit?(pid=${p.pid})}" class="btn btn-info" >Edit</a>
    				 
    				
    				 	<a th:href="@{/delete?(pid=${p.pid})}" class="btn btn-danger" onclick="return deleteConfirm()">Delete</a>
    				 </td>	
    				 <tr>
    				 


               <td th:if="${products==null or products.isEmpty()}" colspan="5" class="text-center">
               			No Records Found
               </td>
    				 </tr>
                </tr>
  			</tbody>  
  		
  		</table>
  	  </div>
  	</div>
  
  
  
  
  
  
  
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
  </body>
</html>